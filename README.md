# Abbreviated Smell Test to Identify Patients with PD/DLB

Code for analysis in the manuscript entitled "Development of a Simplified Smell Test to Identify Patients with Typical Parkinson’s as Informed by Multiple Cohorts, Machine Learning and External Validation". 

medRxiv preprint doi: https://doi.org/10.1101/2024.08.09.24311696

## Data files

Datasets of the three cohorts used in this study can be accessed via zenodo (link to be updated) upon request.

1. `Data dictionary.xlsx`
2. Ottawa (PREDIGT) Trial (baseline): `Ottawa_cut.csv`
3. Prognostic Biomarkers in Parkinson’s Disease Study (PROBE; baseline): `PROBE_cut.csv`
4. “_De Novo_ Parkinson disease study” (DeNoPa; baseline, 48-month, and 72-month follow-up visits): `DeNoPa_cut.csv`

## Supportive files

Included in this repo:

1. `diagnosis colors.csv`: colors representing each diagnostic groups for plotting.
2. `Published rankings.csv`: 8 previously published scent rankings, 4 for SST-ID, 4 for UPSIT.
3. `scent_shared.csv`: 11 scents that are shared by SST-ID and UPSIT. (__Note:__ this file is generated by `4. Combine UPSIT and SST-ID.qmd`, but is also required by `1. Tables, distributions, ROCs.qmd` for plotting. So I included it here to avoid running error.)
4. `SST_ID_option.csv`: Options provided for each SST-ID scent, used for generating ICCs.
5. `UPSIT_key.csv`: answer keys of UPSIT.
6. `UPSIT_option.csv`: Options provided for each UPSIT scent, used for generating ICCs.

## Code files

1. `1. Tables, distributions, ROCs.qmd`
2. ``
3. ``
4. `4. Combine UPSIT and SST-ID.qmd`

There are three supporting functions, see `Abbreviated Smell Test DeNoPa.qmd` for more details.

- `itemAUC.R`: calculate each scent's AUC values and rank them, using cross-validation
- `boruta.ranking.R`: rank each scent by their variable importance values using the Boruta algorithm.
- `subsetAUC.R`: calculate each subset's AUC values.

